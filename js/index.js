document.addEventListener('DOMContentLoaded',()=>{const swiperOptions={speed:1000,spaceBetween:80,autoplay:{delay:8000},navigation:{nextEl:'.slider-saas__arrow_next',prevEl:'.slider-saas__arrow_prev'},on:{init(){createBullets(this,'.slider-navigation__bullets')},slideChange(){updateActiveBullet(this,'.slider-navigation__bullets')}}};['slider-saas','slider-cases'].forEach(selector=>{new Swiper(`.${selector}`,Object.assign({},swiperOptions,{slidesPerView:selector==='slider-cases'?1:undefined}))});const form=document.querySelector('.form');const inputs=form.querySelectorAll('.form__input');form.addEventListener('submit',(e)=>{e.preventDefault();let isValid=[...inputs].every(input=>validateInput(input));if(isValid)form.submit()});inputs.forEach(input=>input.addEventListener('input',()=>validateInput(input)));function validateInput(input){const label=input.nextElementSibling;const error=!input.value.trim()||(input.type==='email'&&!validateEmail(input.value))||(input.name==='number'&&!validatePhoneNumber(input.value));input.classList.toggle('error',error);label.textContent=error?(input.type==='email'?'Invalid email format':'Invalid phone number'):'';label.style.opacity=error?'1':'0';return!error}function validateEmail(email){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)}function validatePhoneNumber(number){return/^[+]?\d{3,}$/.test(number)}['.burger','.menu__close'].forEach(selector=>{document.querySelector(selector).addEventListener('click',toggleMenu)});function toggleMenu(){document.body.classList.toggle('lock');document.querySelector('.burger').classList.toggle('active');document.querySelector('#menu').classList.toggle('show')}let headerHeight=null,progressBarHeight=null;const updateProgressBar=()=>{const scrollTop=window.scrollY||document.documentElement.scrollTop;const docHeight=document.documentElement.scrollHeight-document.documentElement.clientHeight;document.querySelector('.progress-bar__line span').style.width=`${(scrollTop/docHeight)*100}%`};const updateMenuLinks=()=>{document.querySelectorAll('.progress-bar__link').forEach(link=>{const section=document.querySelector(link.getAttribute('href'));link.classList.toggle('active',window.scrollY>=section.offsetTop)})};const toggleHeaderProgress=()=>{const header=document.querySelector('.header');const body=document.body;if(headerHeight===null)headerHeight=header?header.offsetHeight:0;if(progressBarHeight===null)progressBarHeight=document.querySelector('.progress-bar')?document.querySelector('.progress-bar').offsetHeight:0;if(window.scrollY>250){header.classList.add('progress');body.style.paddingTop=`${headerHeight-progressBarHeight}px`}else{header.classList.remove('progress');body.style.paddingTop='0'}};window.addEventListener('scroll',()=>{updateProgressBar();updateMenuLinks();toggleHeaderProgress()});const initHeights=()=>{headerHeight=document.querySelector('.header')?.offsetHeight||0;progressBarHeight=document.querySelector('.progress-bar')?.offsetHeight||0};initHeights();window.addEventListener('resize',()=>{if(!document.querySelector('.header').classList.contains('progress'))initHeights()})});function createBullets(swiper,className){swiper.slides.forEach((slide,slideIndex)=>{const bulletsContainer=slide.querySelector(className);if(bulletsContainer){swiper.slides.forEach((_,bulletIndex)=>{const bullet=document.createElement('div');bullet.classList.add('bullet',bulletIndex===slideIndex&&'active');bullet.addEventListener('click',()=>swiper.slideTo(bulletIndex));bulletsContainer.appendChild(bullet)})}})}function updateActiveBullet(swiper,className){swiper.slides.forEach((slide,slideIndex)=>{slide.querySelectorAll(`${className}.bullet`).forEach((bullet,bulletIndex)=>{bullet.classList.toggle('active',bulletIndex===swiper.activeIndex)})})}